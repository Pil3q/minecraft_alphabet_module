locals {
  characters = {
    " " = []

    "a" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4],
      [1, 1, 3], [1, 1, 5],
      [2, 1, 3], [2, 1, 6],
      [3, 1, 3], [3, 1, 5],
      [4, 1, 0], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4],
    ]

    "b" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 0], [1, 1, 3], [1, 1, 6],
      [2, 1, 0], [2, 1, 3], [2, 1, 6],
      [3, 1, 0], [3, 1, 1], [3, 1, 2], [3, 1, 3], [3, 1, 4], [3, 1, 5], [3, 1, 6],
      [4, 1, 1], [4, 1, 3], [4, 1, 5],
    ]

    "c" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 0], [1, 1, 6],
      [2, 1, 0], [2, 1, 6],
      [3, 1, 0], [3, 1, 6],
      [4, 1, 0], [4, 1, 1], [4, 1, 5], [4, 1, 6],
    ]

    "d" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 0], [1, 1, 6],
      [2, 1, 0], [2, 1, 6],
      [3, 1, 0], [3, 1, 6],
      [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 1, 5],
    ]

    "e" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 0], [1, 1, 3], [1, 1, 6],
      [2, 1, 0], [2, 1, 3], [2, 1, 6],
      [3, 1, 0], [3, 1, 3], [3, 1, 6],
      [4, 1, 0], [4, 1, 6],
    ]

    "f" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 3], [1, 1, 6],
      [2, 1, 3], [2, 1, 6],
      [3, 1, 3], [3, 1, 6],
      [4, 1, 6],
    ]

    "g" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 0], [1, 1, 6],
      [2, 1, 0], [2, 1, 2], [2, 1, 6],
      [3, 1, 0], [3, 1, 2], [3, 1, 6],
      [4, 1, 0], [4, 1, 1], [4, 1, 2], [4, 1, 5], [4, 1, 6],
    ]

    "h" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 3],
      [2, 1, 3],
      [3, 1, 3],
      [4, 1, 0], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 1, 5], [4, 1, 6],
    ]

    "i" = [
      [2, 1, 0], [2, 1, 1], [2, 1, 2], [2, 1, 3], [2, 1, 4], [2, 1, 5], [2, 1, 6], [2, 1, 8],
    ]

    "j" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2],
      [1, 1, 0],
      [2, 1, 0],
      [3, 1, 0],
      [4, 1, 0], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 1, 5], [4, 1, 6],
    ]

    "k" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 3],
      [2, 1, 2], [2, 1, 4],
      [3, 1, 1], [3, 1, 5],
      [4, 1, 0], [4, 1, 6],
    ]

    "l" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 0],
      [2, 1, 0],
      [3, 1, 0],
      [4, 1, 0],
    ]

    "m" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 5],
      [2, 1, 4],
      [3, 1, 5],
      [4, 1, 0], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 1, 5], [4, 1, 6],
    ]

    "n" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 4],
      [2, 1, 3],
      [3, 1, 2],
      [4, 1, 0], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 1, 5], [4, 1, 6],
    ]

    "o" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 0], [1, 1, 6],
      [2, 1, 0], [2, 1, 6],
      [3, 1, 0], [3, 1, 6],
      [4, 1, 0], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 1, 5], [4, 1, 6],
    ]

    "p" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 3], [1, 1, 6],
      [2, 1, 3], [2, 1, 6],
      [3, 1, 3], [3, 1, 6],
      [4, 1, 4], [4, 1, 5],
    ]

    "q" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 0], [1, 1, 6],
      [2, 1, 0], [2, 1, 1], [2, 1, 6],
      [3, 1, 0], [3, 1, 6],
      [4, 1, 0], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 1, 5], [4, 1, 6],
    ]

    "r" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 3], [1, 1, 6],
      [2, 1, 2], [2, 1, 3], [2, 1, 6],
      [3, 1, 1], [3, 1, 3], [3, 1, 6],
      [4, 1, 0], [4, 1, 4], [4, 1, 5],
    ]

    "s" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 0], [1, 1, 3], [1, 1, 6],
      [2, 1, 0], [2, 1, 3], [2, 1, 6],
      [3, 1, 0], [3, 1, 3], [3, 1, 6],
      [4, 1, 0], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 5], [4, 1, 6],
    ]

    "t" = [
      [0, 1, 6],
      [1, 1, 6],
      [2, 1, 0], [2, 1, 1], [2, 1, 2], [2, 1, 3], [2, 1, 4], [2, 1, 5], [2, 1, 6],
      [3, 1, 6],
      [4, 1, 6],
    ]

    "u" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 0],
      [2, 1, 0],
      [3, 1, 0],
      [4, 1, 0], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 1, 5], [4, 1, 6],
    ]

    "v" = [
      [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 1],
      [2, 1, 0],
      [3, 1, 1],
      [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 1, 5], [4, 1, 6],
    ]

    "w" = [
      [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 0],
      [2, 1, 1],
      [3, 1, 0],
      [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 1, 5], [4, 1, 6],
    ]

    "x" = [
      [0, 1, 0], [0, 1, 6],
      [1, 1, 1], [1, 1, 5],
      [2, 1, 2], [2, 1, 3], [2, 1, 4],
      [3, 1, 1], [3, 1, 5],
      [4, 1, 0], [4, 1, 6],
    ]

    "y" = [
      [0, 1, 6],
      [1, 1, 5],
      [2, 1, 0], [2, 1, 1], [2, 1, 2], [2, 1, 3], [2, 1, 4],
      [3, 1, 5],
      [4, 1, 6],
    ]

    "z" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 6],
      [1, 1, 0], [1, 1, 2], [1, 1, 6],
      [2, 1, 0], [2, 1, 3], [2, 1, 6],
      [3, 1, 0], [3, 1, 4], [3, 1, 6],
      [4, 1, 0], [4, 1, 5], [4, 1, 6],
    ]

    "0" = [
      [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5],
      [1, 1, 0], [1, 1, 6],
      [2, 1, 0], [2, 1, 6],
      [3, 1, 0], [3, 1, 6],
      [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 1, 5],
    ]

    "1" = [
      [0, 1, 0], [0, 1, 4],
      [1, 1, 0], [1, 1, 5],
      [2, 1, 0], [2, 1, 1], [2, 1, 2], [2, 1, 3], [2, 1, 4], [2, 1, 5], [2, 1, 6],
      [3, 1, 0],
      [4, 1, 0],
    ]

    "2" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 4], [0, 1, 5],
      [1, 1, 0], [1, 1, 2], [1, 1, 6],
      [2, 1, 0], [2, 1, 3], [2, 1, 6],
      [3, 1, 0], [3, 1, 3], [3, 1, 6],
      [4, 1, 0], [4, 1, 4], [4, 1, 5],
    ]

    "3" = [
      [0, 1, 1], [0, 1, 5],
      [1, 1, 0], [1, 1, 6],
      [2, 1, 0], [2, 1, 3], [2, 1, 6],
      [3, 1, 0], [3, 1, 3], [3, 1, 6],
      [4, 1, 1], [4, 1, 2], [4, 1, 4], [4, 1, 5],
    ]

    "4" = [
      [0, 1, 2], [0, 1, 3],
      [1, 1, 2], [1, 1, 4],
      [2, 1, 2], [2, 1, 5],
      [3, 1, 0], [3, 1, 1], [3, 1, 2], [3, 1, 3], [3, 1, 4], [3, 1, 5], [3, 1, 6],
      [4, 1, 2],
    ]

    "5" = [
      [0, 1, 1], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 0], [1, 1, 3], [1, 1, 6],
      [2, 1, 0], [2, 1, 3], [2, 1, 3], [2, 1, 6],
      [3, 1, 0], [3, 1, 3], [3, 1, 6],
      [4, 1, 1], [4, 1, 2], [4, 1, 6],
    ]

    "6" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 0], [1, 1, 3], [1, 1, 6],
      [2, 1, 0], [2, 1, 3], [2, 1, 6],
      [3, 1, 0], [3, 1, 3], [3, 1, 6],
      [4, 1, 0], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 6],
    ]

    "7" = [
      [0, 1, 0], [0, 1, 6],
      [1, 1, 1], [1, 1, 6],
      [2, 1, 2], [2, 1, 6],
      [3, 1, 3], [3, 1, 6],
      [4, 1, 4], [4, 1, 5], [4, 1, 6],
    ]

    "8" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 0], [1, 1, 3], [1, 1, 6],
      [2, 1, 0], [2, 1, 3], [2, 1, 6],
      [3, 1, 0], [3, 1, 3], [3, 1, 6],
      [4, 1, 0], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 1, 5], [4, 1, 6],
    ]

    "9" = [
      [0, 1, 0], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 0], [1, 1, 3], [1, 1, 6],
      [2, 1, 0], [2, 1, 3], [2, 1, 6],
      [3, 1, 0], [3, 1, 3], [3, 1, 6],
      [4, 1, 0], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 1, 5], [4, 1, 6],
    ]

    "+" = [
      [0, 1, 3],
      [1, 1, 3],
      [2, 1, 1], [2, 1, 2], [2, 1, 3], [2, 1, 4], [2, 1, 5],
      [3, 1, 3],
      [4, 1, 3],
    ]

    "-" = [
      [0, 1, 3],
      [1, 1, 3],
      [2, 1, 3],
      [3, 1, 3],
      [4, 1, 3],
    ]

    "*" = [
      [0, 1, 1], [0, 1, 5],
      [1, 1, 2], [1, 1, 4],
      [2, 1, 1], [2, 1, 2], [2, 1, 3], [2, 1, 4], [2, 1, 5],
      [3, 1, 2], [3, 1, 4],
      [4, 1, 1], [4, 1, 5]
    ]

    ":" = [
      [2, 1, 1], [2, 1, 5],
    ]

    "=" = [
      [1, 1, 2], [1, 1, 4],
      [2, 1, 2], [2, 1, 4],
      [3, 1, 2], [3, 1, 4],
    ]

    "." = [
      [0, 1, 0]
    ]

    "," = [
      [1, 1, 0],
      [2, 1, 1],
    ]

    ";" = [
      [1, 1, 0],
      [2, 1, 1], [2, 1, 5],
    ]

    "!" = [
      [2, 1, 0], [2, 1, 2], [2, 1, 3], [2, 1, 4], [2, 1, 5], [2, 1, 6],
    ]

    "?" = [
      [1, 1, 5],
      [2, 1, 0], [2, 1, 2], [2, 1, 3], [2, 1, 6],
      [3, 1, 4], [3, 1, 5],
    ]

    "\"" = [
      [1, 1, 4], [1, 1, 5], [1, 1, 6],
      [3, 1, 4], [3, 1, 5], [3, 1, 6],
    ]

    "'" = [
      [2, 1, 4], [2, 1, 5], [2, 1, 6],
    ]

    "\\" = [
      [0, 1, 5],
      [1, 1, 4],
      [2, 1, 3],
      [3, 1, 2],
      [4, 1, 1],
    ]

    "|" = [
      [2, 1, 0], [2, 1, 1], [2, 1, 2], [2, 1, 3], [2, 1, 4], [2, 1, 5], [2, 1, 6],
    ]

    "/" = [
      [0, 1, 1],
      [1, 1, 2],
      [2, 1, 3],
      [3, 1, 4],
      [4, 1, 5],
    ]

    "_" = [
      [0, 1, 0],
      [1, 1, 0],
      [2, 1, 0],
      [3, 1, 0],
      [4, 1, 0],
    ]

    "~" = [
      [0, 1, 2],
      [1, 1, 3],
      [2, 1, 2],
      [3, 1, 3],
    ]

    "<" = [
      [1, 1, 3],
      [2, 1, 2], [2, 1, 4],
      [3, 1, 1], [3, 1, 5],
    ]

    ">" = [
      [1, 1, 1], [1, 1, 5],
      [2, 1, 2], [2, 1, 4],
      [3, 1, 3],
    ]

    "(" = [
      [0, 1, 2], [0, 1, 3], [0, 1, 4],
      [1, 1, 1], [1, 1, 5],
      [2, 1, 0], [2, 1, 6],
    ]

    ")" = [
      [2, 1, 0], [2, 1, 6],
      [3, 1, 1], [3, 1, 5],
      [4, 1, 2], [4, 1, 3], [4, 1, 4],
    ]

    "[" = [
      [0, 1, 0], [0, 1, 1], [0, 1, 2], [0, 1, 3], [0, 1, 4], [0, 1, 5], [0, 1, 6],
      [1, 1, 0], [1, 1, 6],
      [2, 1, 0], [2, 1, 6],
    ]

    "]" = [
      [2, 1, 0], [2, 1, 6],
      [3, 1, 0], [3, 1, 6],
      [4, 1, 0], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 1, 5], [4, 1, 6],
    ]

    "{" = [
      [0, 1, 3],
      [1, 1, 1], [1, 1, 2], [1, 1, 4], [1, 1, 5],
      [2, 1, 0], [2, 1, 6],
    ]

    "}" = [
      [2, 1, 0], [2, 1, 6],
      [3, 1, 1], [3, 1, 2], [3, 1, 4], [3, 1, 5],
      [4, 1, 3],
    ]
  }

  characters_spacing = 6

  blocks_coordinates = concat([for index, letter in split("", lower(var.string)) :
    [for block in lookup(local.characters, letter, local.characters[" "]) :
      [var.position.x + block[0] + index * local.characters_spacing, var.position.y + block[1], var.position.z - block[2]]
    ]
  ]...)

  blocks   = [for coordinate in local.blocks_coordinates : zipmap(["x", "y", "z"], coordinate)]
  material = length(regexall("^[a-z]+:[a-z]+$", var.material)) > 0 ? var.material : format("%s:%s", "minecraft", var.material)
}

